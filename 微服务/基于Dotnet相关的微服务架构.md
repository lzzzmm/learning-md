## API网关 （Ocelot 与 YARP）
在.NET生态中，YARP（Yet Another Reverse Proxy）和Ocelot是两种常用的API网关解决方案。

- YARP：由微软维护的一个反向代理库，优势在于其高性能、灵活的配置和丰富的文档支持
  - YARP在性能、限流和授权的灵活性方面更具优势，适合需要高性能和高度自定义的应用场景，也更适合熟悉ASP.NET Core中间件的开发人员
- Ocelot：是一个流行的API网关解决方案，已经存在了相当长的时间，积累了丰富的功能和社区支持，提供了开箱即用的服务发现、请求聚合等功能
  - Ocelot提供了更丰富的功能，如服务发现、请求聚合等，开箱即用，适合快速构建和部署


## 服务保护（Polly）

Polly 是一个 .NET 弹性和瞬态故障处理库，允许开发人员以 Fluent 和线程安全的方式来实现重试、断路、超时、隔离和回退策略。

Polly 的七种策略
- 重试
- 断路
- 超时
- 隔离
  - 当系统的一处出现故障时，可能促发多个失败的调用，很容易耗尽主机的资源(如 CPU)。下游系统出现故障可能导致上游的故障的调用，甚至可能蔓延到导致系统崩溃
  - 所以要将可控的操作限制在一个固定大小的资源池中，以隔离有潜在可能相互影响的操作
- 回退
- 缓存
- 策略包
  - 一种操作会有多种不同的故障，而不同的故障处理需要不同的策略。这些不同的策略必须包在一起，作为一个策略包，才能应用在同一种操作上


## 资料
- 网关：https://www.cnblogs.com/madtom/p/18655530
- polly：https://www.cnblogs.com/willick/p/polly.html
